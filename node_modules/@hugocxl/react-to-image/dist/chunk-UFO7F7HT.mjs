import{a as u}from"./chunk-LX26VWO4.mjs";import{d as c}from"./chunk-6IY5DPR5.mjs";c();import{useReducer as E,useRef as l}from"react";function y(s){let a=(e,r)=>{switch(r.type){case"loading":return{...e,status:"loading"};case"success":return{...e,status:"success",data:r.data};case"error":return{...e,status:"error",error:r.error};default:return e}};function d({status:e,...r}){return{...r,status:e,isError:e==="error",isLoading:e==="loading",isSuccess:e==="success",isIdle:e==="idle"}}return function(e){let r=l(),[i,n]=E(a,u),m=d(i);function f(o){!r.current&&o&&(r.current=o)}async function S(){try{if(!r.current&&!e?.selector)throw new Error("A dom element must be selected: use the selector option or the ref");e?.onStart&&e.onStart(),n({type:"loading"}),e?.onLoading&&e.onLoading();let o=e?.selector?document.querySelector(e.selector):r.current,t=await s(o,e);return n({type:"success",data:t}),e?.onSuccess&&e.onSuccess(t),t}catch(o){let t=o?.message||"Unknown error";return console.error("Error generating image from component:",t),n({type:"error",error:t}),e?.onError&&e.onError(t),null}}return[m,()=>{S()},f]}}export{y as a};
//# sourceMappingURL=chunk-UFO7F7HT.mjs.map